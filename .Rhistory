phone <- phone[phone$COUNTRY == "UGANDA"]
unique(head(phone$COUNTRY))
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2015/Mobile Coverage Explorer WGS84 201512 - ESRI SHAPE/Data/Global_GSM_201512.shp")
countries <- unique(head(phone$COUNTRY))
countries
test <- phone[phone$COUNTRY == "Uganda"]
test <- phone[phone$COUNTRY == "Uganda",]
head(test)
phone <- phone[phone$COUNTRY == "Uganda",]
grid <- raster(ncol=1000,nrow=1000)
extent(grid) <- extent(phone)
phone.raster <- rasterize(phone,grid)
phone.raster[is.na(phone.raster)] <- 0
coverage <- raster::extract(phone.raster, adm3, fun = mean, na.rm = T, small = T, df = T)
pdf("Plots/UG_2G_2015.pdf",width=10,height=10)
plot(adm3)
plot(phone, add=T)
dev.off()
pdf("Plots/UG_2G_2015.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred", add=T)
dev.off()
head(adm1@data)
head(adm3@data)
colnames(coverage) <- c("ID_3", "cover")
adm1 <- merge(adm1,coverage)
adm3 <- merge(adm3,coverage)
colourfunc <- colorRampPalette(c("white", "firebrick3"))
adm3@data$Col.intensity <- colourfunc(50)[as.numeric(cut(adm3@data$cover,breaks = 50))]
pdf("Plots/coverage_intensity_2g.pdf",width=20,height=20)
plot(adm1,col=adm1@data$Col.intensity)
pdf("Plots/coverage_intensity_2g.pdf",width=20,height=20)
plot(adm3,col=adm3@data$Col.intensity)
dev.off()
pdf("Plots/UG_2G_2015.pdf",width=10,height=10)
#plot(adm3)
plot(phone, col="indianred")
dev.off()
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2011/Mobile Coverage Explorer WGS84 201512 - ESRI SHAPE/Data/Global_GSM_201112.shp")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2011/Mobile Coverage Explorer WGS84 201112 - ESRI SHAPE/Data/Global_GSM_201112.shp")
countries <- unique(head(phone$COUNTRY))
phone <- phone[phone$COUNTRY == "Uganda",]
pdf("Plots/UG_2G_2011.pdf",width=10,height=10)
#plot(adm3)
plot(phone, col="indianred")
dev.off()
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_GSM_2007Q1.shp")
countries <- unique(head(phone$COUNTRY))
countries
phone <- phone[phone$COUNTRY == "Uganda",]
pdf("Plots/UG_2G_2007.pdf",width=10,height=10)
#plot(adm3)
plot(phone, col="indianred")
dev.off()
View(phone@data)
colnames(phone@data)
phone <- phone[phone$ISO_A2CODE == "UG",]
phone <- phone[phone$ISO_A2CODE == "UG",]
phone <- phone[phone$ISO_A2CODE == "UG"]
phone <- phone[phone$ISO_A2CODE == "UG",]
phone <- na.omit(phone[phone$ISO_A2CODE == "UG",])
test <- na.omit(phone)
phone <- na.omit(phone)
phone <- phone[phone$ISO_A2CODE == "UG",]
test <- na.omit(phone$ISO_A2CODE)
test <- phone[na.omit(phone$ISO_A2CODE),]
test2 <- test[tets$ISO_A2CODE == "UG",]
test2 <- test[test$ISO_A2CODE == "UG",]
View(test@data)
length(phone)
test <- phone[2:length(phone),]
View(test@data)
test2 <- test[test$ISO_A2CODE == "UG",]
phone <- phone[2:length(phone),]
phone <- test[test$ISO_A2CODE == "UG",]
grid <- raster(ncol=1000,nrow=1000)
extent(grid) <- extent(phone)
phone.raster <- rasterize(phone,grid)
phone.raster[is.na(phone.raster)] <- 0
coverage <- raster::extract(phone.raster, adm3, fun = mean, na.rm = T, small = T, df = T)
colnames(coverage) <- c("ID_3", "cover")
view(coverage)
View(coverage)
adm3 <- merge(adm3,coverage)
colourfunc <- colorRampPalette(c("white", "firebrick3"))
adm3@data$Col.intensity <- colourfunc(50)[as.numeric(cut(adm3@data$cover,breaks = 50))]
pdf("Plots/coverage_intensity_2g.pdf",width=20,height=20)
plot(adm3,col=adm3@data$Col.intensity)
dev.off()
pdf("Plots/coverage_intensity_2g.pdf",width=20,height=20)
plot(adm3,col=adm3@data$Col.intensity)
dev.off()
rm(list = ls())
library(ggplot2)
library(stargazer)
library(xtable)
library(grid)
library(car)
library(reshape2)
library(rgdal)
library(sp)
library(raster)
library(rasterVis)
library(maptools)
library(rgeos)
library(dismo)
library(XML)
library(stringdist)
setwd("/Users/jbowles/Documents/Harvard/Econ 2392/Research Design")
adm3 <- readRDS("Data/UGA_adm3.rds")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_GSM_2007Q1.shp")
phone <- phone[2:length(phone),]
phone <- test[test$ISO_A2CODE == "UG",]
phone <- phone[phone$ISO_A2CODE == "UG",]
pdf("Plots/UG_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred")
dev.off()
pdf("Plots/UG_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
grid <- raster(ncol=1000,nrow=1000)
extent(grid) <- extent(phone)
phone.raster <- rasterize(phone,grid)
phone.raster[is.na(phone.raster)] <- 0
coverage <- raster::extract(phone.raster, adm3, fun = mean, na.rm = T, small = T, df = T)
colnames(coverage) <- c("ID_3", "cover")
adm3 <- merge(adm3,coverage)
colourfunc <- colorRampPalette(c("white", "firebrick3"))
adm3@data$Col.intensity <- colourfunc(50)[as.numeric(cut(adm3@data$cover,breaks = 50))]
pdf("Plots/coverage_intensity_2g.pdf",width=20,height=20)
plot(adm3,col=adm3@data$Col.intensity)
dev.off()
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_3G_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[phone$ISO_A2CODE == "UG",]
phone <- phone[2:length(phone),]
phone <- phone[phone$ISO_A2CODE == "UG",]
unique(phone$ISO_A2CODE)
rm(list = ls())
library(ggplot2)
library(stargazer)
library(xtable)
library(grid)
library(car)
library(reshape2)
library(rgdal)
library(sp)
library(raster)
library(rasterVis)
library(maptools)
library(rgeos)
library(dismo)
library(XML)
library(spatialEco)
library(dplyr)
library(tidyr)
library(plm)
library(multiwayvcov)
setwd("~/Google Drive (Harvard)/Quant 2 Research Design/")
#setwd("~/Google Drive/Quant 2 Research Design/")
################################################################################################################
# (1) Coffee price trends
# (2) Intensity of coffee cultivation
# (3) Instrumenting for coffee cultivation
# (4) Aid location coding
# (5) Analysis
# (6) China wrangling
######## Coffee price trends ######################################################################################
price.month <- read.csv("Data/Coffee prices/ICO_monthly_prices.csv")
price <- read.csv("Data/Coffee prices/ICO_yearly_prices.csv")
neg.start.year <- 1996
neg.end.year <- 2001
pos.start.year <- 2004
pos.end.year <- 2011
plot.price <- ggplot(price, aes(x=Year, y=Price)) +
theme_bw()+
geom_vline(aes(xintercept=neg.start.year), colour = "indianred", size = 1) +
geom_vline(aes(xintercept=neg.end.year), colour = "indianred", size = 1) +
geom_vline(aes(xintercept=pos.start.year), colour = "dodgerblue", size = 1) +
geom_vline(aes(xintercept=pos.end.year), colour = "dodgerblue", size = 1) +
ylab("International price of Robusta coffee")+
geom_line(size=1, alpha=0.5)
pdf("Plots/coffee_price.pdf",width=8,height=6)
print(plot.price)
dev.off()
price.fall <- 100*(1-price$Price[price$Year==neg.end.year]/price$Price[price$Year==neg.start.year])
price.rise <- 100*(1-price$Price[price$Year==pos.end.year]/price$Price[price$Year==pos.start.year])
######## Coffee intensity ######################################################################################
## Process district-level coffee data from 2002 National Census
coffee <- read.csv("Data/Coffee cultivation/Uganda_2002_pop_housing_2002.csv")
dim(coffee)
coffee <- as.data.frame(coffee[,c(3:7)])
drop.obs <- c(1:8,9,23,24,40,41,55,56)
coffee$keep.obs <- !(1:71 %in% drop.obs)
coffee <- subset(coffee,coffee$keep.obs==T)
coffee <- coffee[,1:5]
colnames(coffee) <- c("district","n.ag.households","n.coffee","percent","total.plots")
coffee$n.ag.households <- gsub(",","",coffee$n.ag.households)
coffee$n.coffee <- gsub(",","",coffee$n.coffee)
coffee$total.plots <- gsub(",","",coffee$total.plots)
coffee$n.ag.households <- as.numeric(as.character(coffee$n.ag.households))
coffee$n.coffee <- as.numeric(as.character(coffee$n.coffee))
coffee$percent <- as.numeric(as.character(coffee$percent))
coffee$total.plots <- as.numeric(as.character(coffee$total.plots))
## Process district-level population data from 2002 National Census
population <- read.csv("Data/Coffee cultivation/Uganda_2002_pop_housing_2002_totalpop.csv")
dim(population)
population <- as.data.frame(population[,c(3:6)])
drop.obs <- c(1:8,9,23,24,40,41,55,56,72)
population$keep.obs <- !(1:72 %in% drop.obs)
population <- subset(population,population$keep.obs==T)
population <- population[,c(1:2,4)]
colnames(population) <- c("district","n.households","percent.ag")
population$n.households <- gsub(",","",population$n.households)
population$n.households <- as.numeric(as.character(population$n.households))
population$percent.ag <- as.numeric(as.character(population$percent.ag))
coffee <- merge(coffee, population, by="district")
coffee$intensity <- 100*(coffee$n.coffee/coffee$n.households)
coffee$intensity.ag <- 100*(coffee$n.coffee/coffee$n.ag.households)
summary(coffee$intensity)
# Indicator variable for high coffee production
coffee$high.production <- ifelse(coffee$intensity > 2.5, 1, 0)
elevation <- getData("alt", country = "Uganda")
head(elevation)
pdf("Plots/elevation.pdf",width=8,height=8)
plot(elevation)
plot(adm1,add=TRUE)
dev.off()
adm1 <- readRDS("Data/UGA_adm1.rds")
proj4string(adm1) <- CRS("+proj=longlat +datum=WGS84")
pdf("Plots/elevation.pdf",width=8,height=8)
plot(elevation)
plot(adm1,add=TRUE)
dev.off()
install.packages("raincpc")
library(raincpc)
rm(list = ls())
library(ggplot2)
library(stargazer)
library(xtable)
library(grid)
library(car)
library(reshape2)
library(rgdal)
library(sp)
library(raster)
library(rasterVis)
library(maptools)
library(rgeos)
library(dismo)
library(XML)
library(stringdist)
setwd("/Users/jbowles/Documents/Harvard/Econ 2392/Research Design")
######## Testing Cell Phone Data ##################################################################################################################
adm3 <- readRDS("Data/UGA_adm3.rds")
#phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2011/Mobile Coverage Explorer WGS84 201112 - ESRI SHAPE/Data/Global_GSM_201112.shp")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_2G_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[2:length(phone),]
phone <- phone[phone$ISO_A2CODE == "UG",]
pdf("Plots/UG_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
grid <- raster(ncol=1000,nrow=1000)
extent(grid) <- extent(phone)
phone.raster <- rasterize(phone,grid)
phone.raster[is.na(phone.raster)] <- 0
coverage <- raster::extract(phone.raster, adm3, fun = mean, na.rm = T, small = T, df = T)
colnames(coverage) <- c("ID_3", "cover")
adm3 <- merge(adm3,coverage)
colourfunc <- colorRampPalette(c("white", "firebrick3"))
adm3@data$Col.intensity <- colourfunc(50)[as.numeric(cut(adm3@data$cover,breaks = 1))]
pdf("Plots/coverage_intensity_2g.pdf",width=20,height=20)
plot(adm3,col=adm3@data$Col.intensity)
dev.off()
rm(list = ls())
library(ggplot2)
library(stargazer)
library(xtable)
library(grid)
library(car)
library(reshape2)
library(rgdal)
library(sp)
library(raster)
library(rasterVis)
library(maptools)
library(rgeos)
library(dismo)
library(XML)
library(stringdist)
setwd("/Users/jbowles/Documents/Harvard/Econ 2392/Research Design")
######## Testing Cell Phone Data ##################################################################################################################
adm3 <- readRDS("Data/UGA_adm3.rds")
#phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2011/Mobile Coverage Explorer WGS84 201112 - ESRI SHAPE/Data/Global_GSM_201112.shp")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_2G_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[2:length(phone),]
phone <- phone[phone$ISO_A2CODE == "UG",]
pdf("Plots/UG_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
adm3 <- readRDS("Data/UGA_adm3.rds")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_2G_2007Q1.shp")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_GSM_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[2:length(phone),]
phone <- phone[phone$ISO_A2CODE == "UG",]
pdf("Plots/UG_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
grid <- raster(ncol=1000,nrow=1000)
extent(grid) <- extent(phone)
phone.raster <- rasterize(phone,grid)
phone.raster[is.na(phone.raster)] <- 0
coverage <- raster::extract(phone.raster, adm3, fun = mean, na.rm = T, small = T, df = T)
colnames(coverage) <- c("ID_3", "cover")
View(coverage)
coverage$indicator <- ifelse(coverage$cover > 0.5,1,0)
summary(coverage$indicator)
adm <- getData('GADM', country='LBR', level=2)
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_GSM_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[2:length(phone),]
View(phone)
phone <- phone[phone$ISO_A2CODE == "LR",]
adm3 <- getData('GADM', country='LBR', level=2)
pdf("Plots/LR_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
adm3 <- getData('GADM', country='LBR', level=3)
#phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2011/Mobile Coverage Explorer WGS84 201112 - ESRI SHAPE/Data/Global_GSM_201112.shp")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_GSM_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[2:length(phone),]
#phone <- phone[phone$ISO_A2CODE == "UG",]
phone <- phone[phone$ISO_A2CODE == "LR",]
pdf("Plots/LR_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
adm3 <- getData('GADM', country='LBR', level=4)
#phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2011/Mobile Coverage Explorer WGS84 201112 - ESRI SHAPE/Data/Global_GSM_201112.shp")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_GSM_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[2:length(phone),]
#phone <- phone[phone$ISO_A2CODE == "UG",]
phone <- phone[phone$ISO_A2CODE == "LR",]
pdf("Plots/LR_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
adm3 <- getData('GADM', country='LBR', level=3)
#phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGE2011/Mobile Coverage Explorer WGS84 201112 - ESRI SHAPE/Data/Global_GSM_201112.shp")
phone <- readShapePoly("Data/CollinsCellData/MOBILECOVERAGELEGACY/Mobile Coverage Legacy WGS84 - ESRI SHAPE/Data/Global_GSM_2007Q1.shp")
#phone <- phone[phone$COUNTRY == "Uganda",]
phone <- phone[2:length(phone),]
#phone <- phone[phone$ISO_A2CODE == "UG",]
phone <- phone[phone$ISO_A2CODE == "LR",]
pdf("Plots/LR_2G_2007.pdf",width=10,height=10)
plot(adm3)
plot(phone, col="indianred",add=T)
dev.off()
rm(list = ls())
library(foreign)
library(ggplot2)
library(plyr)
library(stargazer)
library(sandwich)
library(multiwayvcov)
library(MASS)
library(rms)
library(lmtest)
library(ordinal)
library(aod)
setwd("~/Google Drive (Harvard)/GOV_2001_REPLICATION/")
######## Replicating table 2 ######################################################################################
#read in data for tables 2 and 3
tab2_3.dat <- read.dta('01_Data/REPLICATION_APSR_2014_BRQ/REPLICATION_TABLE_2_3_APSR_2014_BRQ.dta')
#run regressions for table 2
tab2.1 <- lm(CivilWarIncidence ~ WarPrevalence14001700 + f_french + f_spain + f_pothco + f_dutch + f_belg + f_italy + f_germ +
region_nNUNN + region_sNUNN + region_wNUNN + region_eNUNN + region_cNUNN,data = tab2_3.dat)
tab2.1$vcovHC <- vcovHC(tab2.1,type='HC1')
library(glmnet)
data <- tab2_3.dat
y <- data$CivilWarIncidence
x <- cbind(data$WarPrevalence14001700,data$lrgdpl2631970,data$region_nNUNN,data$abs_latitudeNUNN,data$longitudeNUNN,data$rain_minNUNN,data$humid_maxNUNN,data$low_tempNUNN,data$ln_coastline_areaNUNN)
mat <- na.omit(cbind(y,x))
y <- mat[,1]
getwd()
#######################################################################
##AUTHORS: JEREMY BOWLES, JESSIE BULLOCK, AND SHOM MAZUMDER
##DATE CREATED: 04/19/2016
##DATE LAST UPDATED: 04/19/2016
##PURPOSE: THIS SCRIPT REPLICATES THE ANALYSIS IN BOWLES ET AL (2016)
#######################################################################
####PACKAGES####
required.packages <- c('foreign','ggplot2','stargazer','sandwich','multiwayvcov',
'MASS','rms','lmtest','ordinal','aod','glmnet')
if(sum(required.packages %in% rownames(installed.packages()))!=length(required.packages)){
install.packages(required.packages[which(!(required.packages %in% rownames(installed.packages())))])
}
lapply(required.packages, library, character.only = TRUE)
####SETUP####
##Set working directory
setwd(getwd())#make sure to open the rproj file so you don't have directory structure problems!
####FUNCTIONS####
####MATCHING####
####MECHANISMS####
####VARIABLE SELECTION####
####MISCELLANEOUS####
BRQ_ab <- read.dta('01_Data/REPLICATION_APSR_2014_BRQ/REPLICATION_TABLE_4_APSR_2014_BRQ.dta')
intergroup.first <- lm(inter_group_trust ~ age+age2+male+urban_dum+WarPrevalence14001700+ln_export_pop+ln_pop_dens_1400+
lrgdpl2631960+abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
intergroup.first$clusterVCOV <- cluster.vcov(intergroup.first,BRQ_ab$townvill)
coeftest(intergroup.first,vcov=intergroup.first$clusterVCOV)
intergroup.first <- lm(inter_group_trust ~ age+age2+male+urban_dum+WarPrevalence14001700+ln_export_pop+ln_pop_dens_1400+
abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
intergroup.first$clusterVCOV <- cluster.vcov(intergroup.first,BRQ_ab$townvill)
coeftest(intergroup.first,vcov=intergroup.first$clusterVCOV)
#######################################################################
##AUTHORS: JEREMY BOWLES, JESSIE BULLOCK, AND SHOM MAZUMDER
##DATE CREATED: 04/19/2016
##DATE LAST UPDATED: 04/19/2016
##PURPOSE: THIS PAPER EVALUATES THE ACDE OF HISTORICAL CONFLICT
#######################################################################
####PREP####
#read in data
BRQ_ab <- read.dta('01_Data/REPLICATION_APSR_2014_BRQ/REPLICATION_TABLE_4_APSR_2014_BRQ.dta')
####ANALYSIS####
#Demediated Effect of war on trust netting out present day GDP per capita
intergroup.first <- lm(inter_group_trust ~ age+age2+male+urban_dum+WarPrevalence14001700+ln_export_pop+ln_pop_dens_1400+
lrgdpl2631960+abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
intergroup.first$clusterVCOV <- cluster.vcov(intergroup.first,BRQ_ab$townvill)
coeftest(intergroup.first,vcov=intergroup.first$clusterVCOV)
intergroup.first <- lm(inter_group_trust ~ age+age2+male+urban_dum+WarPrevalence14001700+ln_export_pop+ln_pop_dens_1400+
lrgdpl2631960+abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged,
data = BRQ_ab)
intergroup.first$clusterVCOV <- cluster.vcov(intergroup.first,BRQ_ab$townvill)
coeftest(intergroup.first,vcov=intergroup.first$clusterVCOV)
#Demediated Effect of war on trust netting out present day GDP per capita
intergroup.first <- lm(inter_group_trust ~ age+age2+male+urban_dum+WarPrevalence14001700+ln_export_pop+ln_pop_dens_1400+
lrgdpl2631960+abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
intergroup.first$clusterVCOV <- cluster.vcov(intergroup.first,BRQ_ab$townvill)
coeftest(intergroup.first,vcov=intergroup.first$clusterVCOV)
intergroup.direct <- lm(I(inter_group_trust - coef(intergroup.first)['lrgdpl2631960'])~age+age2+male+urban_dum+
WarPrevalence14001700+ln_export_pop+ln_pop_dens_1400+
abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
summary(intergroup.direct)
intergroup.first <- lm(inter_group_trust ~ male+urban_dum+WarPrevalence14001700+ln_export_pop+ln_pop_dens_1400+
lrgdpl2631960+abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
intergroup.first$clusterVCOV <- cluster.vcov(intergroup.first,BRQ_ab$townvill)
coeftest(intergroup.first,vcov=intergroup.first$clusterVCOV)
summary(BRQ_ab$WarPrevalence14001700)
intergroup.first <- lm(inter_group_trust ~ male+urban_dum+I(log(1+WarPrevalence14001700))+ln_export_pop+ln_pop_dens_1400+
lrgdpl2631960+abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
intergroup.first$clusterVCOV <- cluster.vcov(intergroup.first,BRQ_ab$townvill)
coeftest(intergroup.first,vcov=intergroup.first$clusterVCOV)
intergroup.direct <- lm(I(inter_group_trust - coef(intergroup.first)['lrgdpl2631960'])~age+age2+male+urban_dum+
I(log(1+WarPrevalence14001700))+ln_export_pop+ln_pop_dens_1400+
abs_latitudeNUNN+longitudeNUNN+rain_minNUNN+humid_maxNUNN+low_tempNUNN+
ln_coastline_areaNUNN+islam+
ln_avg_gold_pop+ln_avg_oil_pop+ln_avg_all_diamonds_pop+
f_pothco+
rugged+factor(education)+factor(occupation)+factor(religion)+factor(living_conditions),
data = BRQ_ab)
summary(intergroup.direct)
